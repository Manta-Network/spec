\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[a4paper, margin=0.8in]{geometry}
\usepackage[
    colorlinks=true,
    linkcolor=blue,
    filecolor=blue,
    urlcolor=blue,
    pdfpagemode=FullScreen,
]{hyperref}
\usepackage[labelfont=bf]{caption}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{amsfonts}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{commath}
\usepackage{float}
\usepackage{mdframed}
\usepackage{parskip}
\usepackage{pifont}
\usepackage{tikz-cd}
\usepackage{varwidth}
\usepackage{wrapfig}

\newcommand{\subsubsubsection}[1]{\paragraph{#1}}
\newcommand{\subsubsubsubsection}[1]{\subparagraph{#1}}
\setcounter{secnumdepth}{4}
\setcounter{tocdepth}{4}

\def\sectionautorefname{$\S$}
\def\subsectionautorefname{$\S$}
\def\subsubsectionautorefname{$\S$}
\def\subsubsubsectionautorefname{$\S$}
\def\definitionautorefname{Def}

\newcommand{\lsection}[2]{\def\sectionlabel{#2} \section{#1}\label{sec:#2}}
\newcommand{\lsubsection}[2]{\def\sectionlabel{#2} \subsection{#1}\label{sec:#2}}
\newcommand{\lsubsubsection}[2]{\def\sectionlabel{#2} \subsubsection{#1}\label{sec:#2}}
\newcommand{\lsubsubsubsection}[2]{\def\sectionlabel{#2} \subsubsubsection{#1}\label{sec:#2}}
\newcommand{\lsubsubsubsubsection}[2]{\def\sectionlabel{#2} \subsubsubsubsection{#1}\label{sec:#2}}
\newcommand{\TODO}[1]{{\color{red}\textbf{TODO}}: #1}

\newcommand{\counttosubsubsec}{\arabic{section}.\arabic{subsection}.\arabic{subsubsection}}
\newcommand{\adddefcontentsline}[1]{\stepcounter{subsubsection}\addcontentsline{toc}{subsubsection}{\counttosubsubsec \quad #1}}
\newenvironment{definitiontoc}[1]{\adddefcontentsline{#1}\begin{definition}[#1]}{\end{definition}}

\floatstyle{boxed} 
\restylefloat{figure}

\theoremstyle{definition}
\newtheorem{definition}{Definition}[subsection]
\newtheorem*{definition*}{Definition}

\renewcommand{\abs}[1]{\left|#1\right|}
\newcommand{\domainstr}[1]{{``\texttt{#1}"}}
\newcommand{\Prob}[2]{\mathrm{Pr}\scalebox{0.88}{\ensuremath{\left[\!\!\begin{array}{c}#1\end{array} \middle| \begin{array}{l}#2\end{array}\!\!\right]}}}
\newcommand{\bra}[1]{\langle{#1}\rangle}

\newcommand{\Alice}{{\textsf{Alice}}}
\newcommand{\AssetId}{{\textsf{AssetId}}}
\newcommand{\AssetValue}{{\textsf{AssetValue}}}
\newcommand{\Asset}{{\textsf{Asset}}}
\newcommand{\AuthEncrypted}{{\textsf{AuthEncrypted}}}
\newcommand{\Block}{{\textsf{Block}}}
\newcommand{\Bob}{{\textsf{Bob}}}
\newcommand{\Bool}{{\textsf{Bool}}}
\newcommand{\BuildAccumulatorAndZeroes}{{\textsf{BuildAccumulatorAndZeroes}}}
\newcommand{\BuildReceiver}{{\textsf{BuildReceiver}}}
\newcommand{\BuildSenders}{{\textsf{BuildSenders}}}
\newcommand{\COM}{{\textsf{COM}}}
\newcommand{\Charlie}{{\textsf{Charlie}}}
\newcommand{\CheckProof}{{\textsf{CheckProof}}}
\newcommand{\Checkpoint}{{\textsf{Checkpoint}}}
\newcommand{\Cin}{{\textsf{C}_\textsf{in}}}
\newcommand{\Ciphertext}{{\textsf{Ciphertext}}}
\newcommand{\Concat}{{\textsf{Concat}}}
\newcommand{\Cout}{{\textsf{C}_\textsf{out}}}
\newcommand{\DCA}{{\textsf{DCA}}}
\newcommand{\Decrypt}{{\textsf{Decrypt}}}
\newcommand{\DerivePublic}{{\textsf{DerivePublic}}}
\newcommand{\Derive}{{\textsf{Derive}}}
\newcommand{\Digest}{{\textsf{Digest}}}
\newcommand{\Diversifier}{{\textsf{Diversifier}}}
\newcommand{\EK}{{\textsf{EK}}}
\newcommand{\EncryptedMessage}{{\textsf{EncryptedMessage}}}
\newcommand{\EncryptedNote}{{\textsf{EncryptedNote}}}
\newcommand{\Encrypted}{{\textsf{Encrypted}}}
\newcommand{\Encrypt}{{\textsf{Encrypt}}}
\newcommand{\EntropySource}{{\textsf{EntropySource}}}
\newcommand{\Enumerate}{{\textsf{enumerate}}}
\newcommand{\FAIR}{{\textsf{FAIR}}}
\newcommand{\False}{{\textsf{False}}}
\newcommand{\FinSet}{{\textsf{FinSet}}}
\newcommand{\GetProof}{{\textsf{GetProof}}}
\newcommand{\HASH}{{\textsf{HASH}}}
\newcommand{\HPKEin}{{\HPKE^\textsf{in}}}
\newcommand{\HPKEout}{{\HPKE^\textsf{out}}}
\newcommand{\HPKE}{{\textsf{HPKE}}}
\newcommand{\HashToScalar}{{\textsf{HashToScalar}}}
\newcommand{\ID}{{\textsf{id}}}
\newcommand{\IncomingNote}{{\textsf{IncomingNote}}}
\newcommand{\Input}{{\textsf{Input}}}
\newcommand{\Item}{{\textsf{Item}}}
\newcommand{\KA}{{\textsf{KA}}}
\newcommand{\KDF}{{\textsf{KDF}}}
\newcommand{\KeyDistribution}{{\textsf{KeyDistribution}}}
\newcommand{\KeySchedule}{{\textsf{KeySchedule}}}
\newcommand{\Key}{{\textsf{Key}}}
\newcommand{\Ledger}{{\textsf{Ledger}}}
\newcommand{\List}{{\textsf{List}}}
\newcommand{\MAC}{{\textsf{MAC}}}
\newcommand{\MA}{{\textsf{MA}}}
\newcommand{\MDC}{{\textsf{MDC}}}
\newcommand{\MantaDAP}{{\Manta{}_{\texttt{DAP}}}}
\newcommand{\MantaPay}{{\textsf{MantaPay}}}
\newcommand{\Manta}{{\textsc{Manta}}}
\newcommand{\MembershipProof}{{\textsf{MembershipProof}}}
\newcommand{\MerkleTree}{{\textsf{MerkleTree}}}
\newcommand{\Message}{{\textsf{Message}}}
\newcommand{\Mint}{{\textsf{Mint}}}
\newcommand{\NIZK}{{\textsf{NIZK}}}
\newcommand{\Next}{{\textsf{Next}}}
\newcommand{\None}{{\textsf{None}}}
\newcommand{\Note}{{\textsf{Note}}}
\newcommand{\Option}{{\textsf{Option}}}
\newcommand{\OutgoingNote}{{\textsf{OutgoingNote}}}
\newcommand{\Output}{{\textsf{Output}}}
\newcommand{\PATH}{{\textsf{path}}}
\newcommand{\PRF}{{\textsf{PRF}}}
\newcommand{\Path}{{\textsf{Path}}}
\newcommand{\Plaintext}{{\textsf{Plaintext}}}
\newcommand{\Poseidon}{{\textbf{Poseidon}}}
\newcommand{\PrepareZeroes}{{\textsf{PrepareZeroes}}}
\newcommand{\PrivateTransfer}{{\textsf{PrivateTransfer}}}
\newcommand{\ProofAuthorizationKey}{{\textsf{ProofAuthorizationKey}}}
\newcommand{\ProofAuthorizeKey}{{\textsf{ProofAuthorizeKey}}}
\newcommand{\ProofAuthorizingKey}{{\textsf{ProofAuthorizingKey}}}
\newcommand{\Proof}{{\textsf{Proof}}}
\newcommand{\Prop}{{\textsf{Prop}}}
\newcommand{\Prove}{{\textsf{Prove}}}
\newcommand{\ProvingKey}{{\textsf{ProvingKey}}}
\newcommand{\PublicAddress}{{\textsf{PublicAddress}}}
\newcommand{\PublicInput}{{\textsf{PublicInput}}}
\newcommand{\PublicKey}{{\textsf{PublicKey}}}
\newcommand{\PublicLedger}{{\textsf{PublicAssetLedger}}}
\newcommand{\ROOT}{{\textsf{root}}}
\newcommand{\RandomnessDistribution}{{\textsf{RandomnessDistribution}}}
\newcommand{\Randomness}{{\textsf{Randomness}}}
\newcommand{\ReceiverPost}{{\textsf{ReceiverPost}}}
\newcommand{\Receiver}{{\textsf{Receiver}}}
\newcommand{\ReceivingKey}{{\textsf{ReceivingKey}}}
\newcommand{\Reclaim}{{\textsf{Reclaim}}}
\newcommand{\Root}{{\textsf{Root}}}
\newcommand{\SIG}{{\textsf{SIG}}}
\newcommand{\SYM}{{\textsf{SYM}}}
\newcommand{\Sample}{{\textsf{Sample}}}
\newcommand{\SecretInput}{{\textsf{SecretInput}}}
\newcommand{\SecretKeyDistribution}{{\textsf{SecretKeyDistribution}}}
\newcommand{\SecretKey}{{\textsf{SecretKey}}}
\newcommand{\SeededRng}{{\textsf{SeededRng}}}
\newcommand{\SenderPost}{{\textsf{SenderPost}}}
\newcommand{\Sender}{{\textsf{Sender}}}
\newcommand{\SharedSecret}{{\textsf{SharedSecret}}}
\newcommand{\ShieldedAddress}{{\textsf{ShieldedAddress}}}
\newcommand{\ShieldedAssetPool}{{\textsf{ShieldedAssetPool}}}
\newcommand{\ShieldedIdentity}{{\textsf{ShieldedIdentity}}}
\newcommand{\Signature}{{\textsf{Signature}}}
\newcommand{\Sink}{{\textsf{Sink}}}
\newcommand{\Some}{{\textsf{Some}}}
\newcommand{\Source}{{\textsf{Source}}}
\newcommand{\SpendKey}{{\textsf{SpendKey}}}
\newcommand{\SpendingKey}{{\textsf{SpendingKey}}}
\newcommand{\StateT}{{\textsf{State}}}
\newcommand{\Statement}{{\textsf{Statement}}}
\newcommand{\TAG}{{\textsf{tag}}}
\newcommand{\Tag}{{\textsf{Tag}}}
\newcommand{\TransferConfiguration}{{\textsf{TransferConfiguration}}}
\newcommand{\TransferPost}{{\textsf{TransferPost}}}
\newcommand{\Transfer}{{\textsf{Transfer}}}
\newcommand{\TrapdoorDistribution}{{\textsf{TrapdoorDistribution}}}
\newcommand{\Trapdoor}{{\textsf{Trapdoor}}}
\newcommand{\True}{{\textsf{True}}}
\newcommand{\Type}{{\textsf{Type}}}
\newcommand{\UTXOSet}{{\textsf{UTXOSet}}}
\newcommand{\UTXO}{{\textsf{UTXO}}}
\newcommand{\VALUE}{{\textsf{value}}}
\newcommand{\VN}{{\textsf{VN}}}
\newcommand{\ValidTransfer}{{\textsf{ValidTransfer}}}
\newcommand{\Value}{{\textsf{Value}}}
\newcommand{\VerifyingKey}{{\textsf{VerifyingKey}}}
\newcommand{\Verify}{{\textsf{Verify}}}
\newcommand{\ViewKey}{{\textsf{ViewKey}}}
\newcommand{\ViewingKey}{{\textsf{ViewingKey}}}
\newcommand{\VoidNumberSet}{{\textsf{VoidNumberSet}}}
\newcommand{\VoidNumber}{{\textsf{VoidNumber}}}
\newcommand{\Void}{{\textsf{Void}}}
\newcommand{\Witness}{{\textsf{Witness}}}
\newcommand{\X}{{\text{\Large $x$}}}
\newcommand{\Y}{{\text{\Large $y$}}}
\newcommand{\aHPKEin}{{\aHPKE^\textsf{in}}}
\newcommand{\aHPKEout}{{\aHPKE^\textsf{out}}}
\newcommand{\aHPKE}{{\textsf{aHPKE}}}
\newcommand{\addr}{{\textsf{addr}}}
\newcommand{\agree}{{\textsf{agree}}}
\newcommand{\ak}{{\textsf{ak}}}
\newcommand{\allocated}{{\textsf{allocated}}}
\newcommand{\allocate}{{\textsf{allocate}}}
\newcommand{\asset}{{\textsf{asset}}}
\newcommand{\cmark}{\ding{51}}
\newcommand{\cm}{{\textsf{cm}}}
\newcommand{\commit}{{\textsf{commit}}}
\newcommand{\contains}{{\textsf{contains}}}
\newcommand{\current}{{\textsf{current}}}
\newcommand{\dash}{{\textrm{--}}}
\newcommand{\decrypt}{{\textsf{decrypt}}}
\newcommand{\derive}{{\textsf{derive}}}
\newcommand{\encrypt}{{\textsf{encrypt}}}
\newcommand{\epkin}{{\epk_\textsf{in}}}
\newcommand{\epkout}{{\epk_\out}}
\newcommand{\epk}{{\textsf{epk}}}
\newcommand{\eq}{{\textsf{eq}}}
\newcommand{\eskin}{{\esk_\textsf{in}}}
\newcommand{\eskout}{{\esk_\out}}
\newcommand{\esk}{{\textsf{esk}}}
\newcommand{\hash}{{\textsf{hash}}}
\newcommand{\insertF}{{\textsf{insert}}}
\newcommand{\keys}{{\textsf{keys}}}
\newcommand{\len}{{\textsf{len}}}
\newcommand{\lift}{{\textsf{lift}}}
\newcommand{\mint}{{\textsf{mint}}}
\newcommand{\note}{{\textsf{note}}}
\newcommand{\opk}{{\textsf{opk}}}
\newcommand{\osk}{{\textsf{osk}}}
\newcommand{\out}{{\textsf{out}}}
\newcommand{\pkD}{{\pk_\textsf{D}}}
\newcommand{\pk}{{\textsf{pk}}}
\newcommand{\prove}{{\textsf{prove}}}
\newcommand{\public}{{\textsf{public}}}
\newcommand{\pub}{{\textsf{pub}}}
\newcommand{\pvk}{{\textsf{pvk}}}
\newcommand{\rKDF}{{\textsf{rKDF}}}
\newcommand{\rand}{{\textsf{rand}}}
\newcommand{\receivers}{{\textsf{receivers}}}
\newcommand{\receiver}{{\textsf{receiver}}}
\newcommand{\receive}{{\textsf{receive}}}
\newcommand{\reclaim}{{\textsf{reclaim}}}
\newcommand{\remainder}{{\textsf{remainder}}}
\newcommand{\rk}{{\textsf{rk}}}
\newcommand{\satisfying}{{\textsf{satisfying}}}
\newcommand{\secret}{{\textsf{secret}}}
\newcommand{\senders}{{\textsf{senders}}}
\newcommand{\sender}{{\textsf{sender}}}
\newcommand{\send}{{\textsf{send}}}
\newcommand{\sign}{{\textsf{sign}}}
\newcommand{\sinks}{{\textsf{sinks}}}
\newcommand{\sink}{{\textsf{sink}}}
\newcommand{\sk}{{\textsf{sk}}}
\newcommand{\sources}{{\textsf{sources}}}
\newcommand{\source}{{\textsf{source}}}
\newcommand{\spend}{{\textsf{spend}}}
\newcommand{\spent}{{\textsf{spent}}}
\newcommand{\stateF}{{\textsf{state}}}
\newcommand{\svk}{{\textsf{svk}}}
\newcommand{\tagin}{{\TAG_\textsf{in}}}
\newcommand{\tagout}{{\TAG_\out}}
\newcommand{\total}{{\textsf{total}}}
\newcommand{\trapdoor}{{\textsf{trapdoor}}}
\newcommand{\truncate}{{\textsf{truncate}}}
\newcommand{\update}{{\textsf{update}}}
\newcommand{\utxos}{{\textsf{utxos}}}
\newcommand{\verify}{{\textsf{verify}}}
\newcommand{\view}{{\textsf{view}}}
\newcommand{\vk}{{\textsf{vk}}}
\newcommand{\vn}{{\textsf{vn}}}
\newcommand{\xmark}{\ding{55}}
